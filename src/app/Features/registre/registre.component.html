<p-toast></p-toast>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card mt-5">
        <div class="card-header text-center">
          <h3>Sign Up</h3>
        </div>
        <div class="card-body">
          <form (ngSubmit)="submit()" [formGroup]="form">
            <div class="form-group mb-3 d-flex">
              <div class="me-2 flex-grow-1">
                <label for="name">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  formControlName="name"
                  placeholder="Enter your name"
                  required
                />
                <div
                  *ngIf="
                    form.get('name')?.invalid &&
                    (form.get('name')?.dirty || form.get('name')?.touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="form.get('name')?.errors?.['required']">
                    Name is required.
                  </div>
                  <div *ngIf="form.get('name')?.errors?.['minlength']">
                    Name must be at least 2 characters long.
                  </div>
                  <div *ngIf="form.get('name')?.errors?.['maxlength']">
                    Name cannot be more than 12 characters long.
                  </div>
                </div>
              </div>
              <div class="ms-2 flex-grow-1">
                <label for="lastname">Last name</label>
                <input
                  type="text"
                  class="form-control"
                  id="lastname"
                  formControlName="lastname"
                  placeholder="Enter your last name"
                  required
                />
                <div
                  *ngIf="
                    form.get('lastname')?.invalid &&
                    (form.get('lastname')?.dirty ||
                      form.get('lastname')?.touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="form.get('lastname')?.errors?.['required']">
                    Last Name is required.
                  </div>
                  <div *ngIf="form.get('lastname')?.errors?.['minlength']">
                    Last Name must be at least 2 characters long.
                  </div>
                  <div *ngIf="form.get('lastname')?.errors?.['maxlength']">
                    Last Name cannot be more than 12 characters long.
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group mb-3">
              <label for="email">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                formControlName="email"
                placeholder="Enter email"
                required
              />
              <div
                *ngIf="
                  form.controls['email']?.invalid &&
                  (form.controls['email']?.dirty ||
                    form.controls['email']?.touched)
                "
                class="text-danger"
              >
                <div *ngIf="form.controls['email']?.errors?.['required']">
                  Email is required.
                </div>
                <div *ngIf="form.controls['email']?.errors?.['email']">
                  Invalid email address.
                </div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label for="password">Password</label>
              <input
                type="password"
                class="form-control"
                id="password"
                formControlName="password"
                placeholder="Password"
                required
              />
              <div
                *ngIf="
                  form.controls['password']?.invalid &&
                  (form.controls['password']?.dirty ||
                    form.controls['password']?.touched)
                "
                class="text-danger"
              >
                <div *ngIf="form.controls['password']?.errors?.['required']">
                  Password is required.
                </div>
                <div *ngIf="form.controls['password']?.errors?.['minlength']">
                  Password must be at least 6 characters long.
                </div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label for="confirm-password">Confirm Password</label>
              <input
                type="password"
                class="form-control"
                id="confirm-password"
                formControlName="confirmPassword"
                placeholder="Confirm Password"
                required
              />
              <div
                *ngIf="
                  form.hasError('mismatch') &&
                  (form.controls['confirmPassword']?.dirty ||
                    form.controls['confirmPassword']?.touched)
                "
                class="text-danger"
              >
                <div *ngIf="form.hasError('mismatch')">
                  Passwords do not match.
                </div>
              </div>
            </div>
            <div class="form-group mb-3">
              <label for="password">Invitation code</label>
              <input
                type="text"
                class="form-control"
                id="ic"
                placeholder="Invitation code"
                disabled
                [value]="invitationCode"
              />
            </div>
            <button
              [disabled]="form.invalid"
              type="submit"
              class="btn btn-primary w-100"
            >
              Sign Up
            </button>
          </form>
        </div>
        <div class="card-footer text-center">
          <a routerLink="/login">Already have an account? Login here</a>
        </div>
      </div>
    </div>
  </div>
</div>
